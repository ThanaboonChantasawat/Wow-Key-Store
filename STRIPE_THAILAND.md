# Stripe Connect ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ üáπüá≠

## üö® ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á Stripe ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢

Stripe ‡∏°‡∏µ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:

### ‚ùå ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
- **Express Accounts** - ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö Platform ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢
- **Loss-liable Platform** - Platform ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏ó‡∏ô‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
- **Destination Charges with Transfers** - ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ

### ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
- **Standard Accounts** - ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏á
- **Direct Charges** - ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- **Application Fees** - Platform ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÑ‡∏î‡πâ

---

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Express vs Standard

| ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ | Express Account | Standard Account |
|-----------|----------------|------------------|
| **Onboarding** | ‡∏á‡πà‡∏≤‡∏¢ (‡πÉ‡∏ä‡πâ Stripe UI) | ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏≠‡∏á) |
| **Dashboard** | Express Dashboard | Full Stripe Dashboard |
| **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô** | ‡∏à‡∏≥‡∏Å‡∏±‡∏î | ‡∏™‡∏π‡∏á |
| **‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢** | ‚ùå ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö (Platform) | ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö |
| **Branding** | Stripe branding | Custom branding |
| **‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£** | Stripe ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ | ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏á |

---

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Direct Charges)

### ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ (Loss-liable - ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‚îÇ ‚îÄ‚îÄ‚Üí  ‚îÇ Platform ‚îÇ ‚îÄ‚îÄ‚Üí  ‚îÇ ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
         ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö Platform
         (‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÇ‡∏Å‡∏á Platform ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö)
```

### ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (Direct Charges - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‡∏•‡∏∏‡∏Å‡∏Ñ‡πâ‡∏≤‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí  ‚îÇ ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì                      ‚Üì
         ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏´‡∏≤      ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏•‡∏¢
                             ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
                                    ‚Üì
                             ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÉ‡∏´‡πâ Platform
```

---

## üí∞ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Application Fee

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°:

```typescript
// ‡∏™‡∏£‡πâ‡∏≤‡∏á Payment Intent ‡πÅ‡∏ö‡∏ö Direct Charge
const paymentIntent = await stripe.paymentIntents.create({
  amount: 10000,              // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 10,000 ‡∏ö‡∏≤‡∏ó
  currency: 'thb',
  application_fee_amount: 500, // ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° 500 ‡∏ö‡∏≤‡∏ó (5%)
  on_behalf_of: 'acct_seller', // ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
  transfer_data: {
    destination: 'acct_seller', // ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
  },
}, {
  stripeAccount: 'acct_seller', // Charge ‡πÉ‡∏ô‡∏ô‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
});
```

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
- **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤**: ‡∏à‡πà‡∏≤‡∏¢ 10,000 ‡∏ö‡∏≤‡∏ó
- **‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢**: ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö 9,500 ‡∏ö‡∏≤‡∏ó (‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°)
- **Platform (‡∏Ñ‡∏∏‡∏ì)**: ‡πÑ‡∏î‡πâ 500 ‡∏ö‡∏≤‡∏ó
- **Stripe**: ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ (~2.95% + 11 THB)

---

## üõ†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏ô Code

### 1. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Account Type
```typescript
// Before (‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö):
accountType: 'express'

// After (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö):
accountType: 'standard'
```

### 2. ‡∏õ‡∏£‡∏±‡∏ö Capabilities
```typescript
// ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á 2 capabilities:
capabilities: {
  card_payments: { requested: true }, // ‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏±‡∏ï‡∏£
  transfers: { requested: true },      // ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡πÅ‡∏°‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ Direct Charges ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `transfers` capability ‡πÑ‡∏ß‡πâ
‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Stripe ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ `card_payments` ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö `transfers` ‡πÄ‡∏™‡∏°‡∏≠

‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠**‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô**:
- ‚ùå **Loss-liable**: Platform ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á (‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢)
- ‚úÖ **Direct Charges**: ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏≠‡∏á (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢)
```

### 3. ‡πÉ‡∏ä‡πâ Direct Charges (on_behalf_of)
```typescript
// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Payment Intent ‡πÉ‡∏ä‡πâ on_behalf_of
const paymentIntent = await stripe.paymentIntents.create({
  amount: 10000,
  currency: 'thb',
  on_behalf_of: sellerAccountId, // ‚úÖ Charge ‡πÉ‡∏ô‡∏ô‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ (Direct)
  application_fee_amount: 500,    // Platform ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°
  transfer_data: {
    destination: sellerAccountId,
  },
});

// ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ:
// - ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
// - ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏≠‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Platform)
// - Platform ‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏ú‡πà‡∏≤‡∏ô application_fee_amount
```

---

## üìù Onboarding Process

### Standard Account Onboarding ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:

1. **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß**:
   - ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•
   - ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î
   - ‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô
   - ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà

2. **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£**:
   - ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
   - ‡∏™‡∏≤‡∏Ç‡∏≤
   - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ

3. **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à** (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ):
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à
   - ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à
   - ‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•

4. **‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô** (‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ):
   - ‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô
   - ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó

---

## ‚ö° Testing

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Standard Account:

#### ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÄ‡∏î‡∏ö‡∏¥‡∏ï:
```
‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£: 4242 4242 4242 4242
‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏: 12/25 (‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
CVC: 123 (‡∏£‡∏´‡∏±‡∏™ 3 ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ)
```

#### PromptPay:
Stripe ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code ‡πÉ‡∏´‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Test

#### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:
```
‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: 000123456789
‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£: ‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ
‡∏™‡∏≤‡∏Ç‡∏≤: ‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ
```

---

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô:

```typescript
const account = await stripe.accounts.retrieve('acct_xxx');

console.log({
  chargesEnabled: account.charges_enabled,     // ‚úÖ ‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ
  payoutsEnabled: account.payouts_enabled,     // ‚úÖ ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ
  detailsSubmitted: account.details_submitted, // ‚úÖ ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö
});
```

‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô `true` ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏Ñ‡πà‡∏≤‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ!

---

## üöÄ Next Steps (‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)

### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô:
```typescript
// ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á Payment Intent
const paymentIntent = await stripe.paymentIntents.create({
  amount: productPrice,
  currency: 'thb',
  application_fee_amount: Math.floor(productPrice * 0.05), // 5% fee
  payment_method_types: ['card', 'promptpay'],
  on_behalf_of: sellerAccountId,
  transfer_data: {
    destination: sellerAccountId,
  },
}, {
  stripeAccount: sellerAccountId, // Direct charge
});
```

### 2. Webhook Handler:
```typescript
// api/webhooks/stripe/route.ts
export async function POST(req: Request) {
  const sig = req.headers.get('stripe-signature');
  const event = stripe.webhooks.constructEvent(body, sig, secret);
  
  switch (event.type) {
    case 'payment_intent.succeeded':
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó order status
      break;
    case 'account.updated':
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
      break;
  }
}
```

### 3. Payout Tracking:
```typescript
// ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢
const payouts = await stripe.payouts.list({
  limit: 10,
}, {
  stripeAccount: sellerAccountId,
});
```

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á

- **Official Guide**: https://support.stripe.com/questions/stripe-thailand-support-for-marketplaces
- **Direct Charges**: https://stripe.com/docs/connect/direct-charges
- **Standard Accounts**: https://stripe.com/docs/connect/standard-accounts
- **Application Fees**: https://stripe.com/docs/connect/direct-charges#collecting-fees

---

## ‚ùì FAQ

### Q: ‡∏ó‡∏≥‡πÑ‡∏°‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Express Account?
**A**: Stripe ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ Platform ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢‡πÉ‡∏ä‡πâ Express ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î loss-liable

### Q: ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏à‡∏∞‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà?
**A**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô manual payout - ‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏¢‡∏≠‡∏î

### Q: Platform ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà?
**A**: ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡∏ú‡πà‡∏≤‡∏ô application_fee_amount)

### Q: PromptPay QR ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠?
**A**: ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ! Stripe ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PromptPay ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢

### Q: ‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡πÇ‡∏Å‡∏á Platform ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÑ‡∏´‡∏°?
**A**: ‡πÑ‡∏°‡πà! ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏ä‡πâ Direct Charges - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢ (‡∏ï‡∏≤‡∏°‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢ Stripe)

---

## ‚úÖ Checklist

- [x] ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Standard Account
- [x] ‡πÉ‡∏ä‡πâ Direct Charges
- [x] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Manual Payouts
- [x] ‡πÄ‡∏≠‡∏≤ Transfers capability ‡∏≠‡∏≠‡∏Å
- [x] ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Onboarding flow
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Payment flow
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Webhooks
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö PromptPay

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ ‡∏ï‡∏≤‡∏°‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢ Stripe üáπüá≠
